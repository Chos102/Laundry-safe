<!DOCTYPE html>
<html>
<head>
  <title>Manager Panel</title>
  <script src="https://unpkg.com/html5-qrcode"></script>
  <style>
    body { font-family: Arial; background:#eef2f7; }
    .box {
      background:white; padding:20px;
      margin:20px; border-radius:8px;
    }
    button {
      padding:10px 15px;
      background:#28a745;
      color:white;
      border:none;
      border-radius:5px;
      cursor:pointer;
    }
    #reader {
      width:300px;
      margin-top:15px;
    }
  </style>
</head>
<body>

<h2>Laundry Manager Dashboard</h2>

<div class="box">
  <h3>Scan Laundry Bag QR</h3>
  <button onclick="startScan()">Open Camera</button>
  <div id="reader"></div>
  <p><b>Scanned Bag No:</b> <span id="bagNo">---</span></p>
</div>

<div class="box">
  <h3>Student Laundry Request</h3>
  <p>Name: Rahul</p>
  <p>Bag No: <b>12</b></p>
  <p>Clothes: 2 shirts, 1 jeans</p>
  <button onclick="verify()">Verify</button>
</div>

<div class="box">
  <h3>Update Pickup Time</h3>
  <input type="date">
  <input type="time">
  <button>Notify Student</button>
</div>

<script>
  let scannedBag = "";

  function startScan() {
    const qr = new Html5Qrcode("reader");

    qr.start(
      { facingMode: "environment" },
      { fps: 10, qrbox: 250 },
      qrText => {
        scannedBag = qrText;
        document.getElementById("bagNo").innerText = qrText;
        alert("QR Scanned Successfully");
        qr.stop();
      },
      error => {}
    );
  }

  function verify() {
    if (scannedBag === "") {
      alert("Please scan a bag QR first");
    } else {
      alert("Bag " + scannedBag + " verified successfully ✔️");
    }
  }
</script>

</body>
</html>
